(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52039dd2"],{"25f0":function(t,e,a){"use strict";var n=a("e330"),r=a("5e77").PROPER,i=a("6eeb"),o=a("825a"),s=a("3a9b"),l=a("577e"),u=a("d039"),c=a("ad6d"),g="toString",d=RegExp.prototype,h=d[g],p=n(c),b=u((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),f=r&&h.name!=g;(b||f)&&i(RegExp.prototype,g,(function(){var t=o(this),e=l(t.source),a=t.flags,n=l(void 0===a&&s(d,t)&&!("flags"in d)?p(t):a);return"/"+e+"/"+n}),{unsafe:!0})},c4e8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null!=t.user?a("div",{staticStyle:{width:"70%","margin-left":"25%","text-align":"center","margin-top":"50px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tabaleData}},[a("el-table-column",{attrs:{label:"Product image",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.imgUrl,width:"150px",height:"150px",alt:""}})]}}],null,!1,1590518422)}),a("el-table-column",{attrs:{prop:"coname",label:"Product name",width:"180"}}),a("el-table-column",{attrs:{prop:"title",label:"Product description",width:"180"}}),a("el-table-column",{attrs:{prop:"price",label:"Price",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"recorddate",label:"Browse time",width:"180"}})],1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.btnIsShow,expression:"btnIsShow"}],staticStyle:{"margin-top":"30px","margin-left":"-300px"},on:{click:t.clear}},[t._v("Clear history")]),a("div",{staticStyle:{height:"60px"}})],1):a("div",{staticStyle:{"text-align":"center","font-size":"20px",width:"100%",height:"400px","line-height":"400px"}},[t._v(" Not logged in ")])])},r=[],i=(a("d3b7"),a("25f0"),a("4ec3")),o={data:function(){return{tabaleData:[],user:null,isLogin:!1,btnIsShow:!1}},mounted:function(){var t=this;this.getUser(),this.getData(),this.$bus.$on("historyLoginUpdate",(function(e){t.user=e,t.getData(t.currPage,t.pagesize)})),this.$bus.$on("historytLogutUpdate",(function(){t.user=null}))},methods:{clear:function(){var t=this;Object(i["a"])("/api/clearHistory/".concat(this.user.uid),"get").then((function(e){200==e.code&&(t.$message("All clear"),t.getData())}))},getUser:function(){var t=JSON.parse(sessionStorage.getItem("user"));null!=t&&(this.isLogin=!0,this.user=t)},getData:function(){var t=this;Object(i["a"])("/api/getHistory/".concat(this.user.uid),"get").then((function(e){200==e.code&&(t.tabaleData=t.dateFormart(e.data),0!=t.tabaleData.length?t.btnIsShow=!0:t.btnIsShow=!1)}))},dateFormart:function(t){for(var e=0;e<t.length;e++){var a=new Date(t[e].recorddate),n=a.getFullYear(),r=a.getMonth()+1>9?a.getMonth()+1:"0"+(a.getMonth()+1).toString(),i=a.getDate()>9?a.getDate():"0"+a.getDate().toString(),o=a.getHours()>9?a.getHours():"0"+a.getHours().toString(),s=a.getMinutes()>9?a.getMinutes():"0"+a.getMinutes().toString();t[e].recorddate=n+"-"+r+"-"+i+" "+o+":"+s}return t}}},s=o,l=a("2877"),u=Object(l["a"])(s,n,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-52039dd2.12bf7f33.js.map