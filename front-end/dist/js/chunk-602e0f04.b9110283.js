(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-602e0f04"],{"0b42":function(t,e,i){var n=i("da84"),r=i("e8b5"),a=i("68ee"),s=i("861d"),o=i("b622"),c=o("species"),u=n.Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,a(e)&&(e===u||r(e.prototype))?e=void 0:s(e)&&(e=e[c],null===e&&(e=void 0))),void 0===e?u:e}},1276:function(t,e,i){"use strict";var n=i("2ba4"),r=i("c65b"),a=i("e330"),s=i("d784"),o=i("44e7"),c=i("825a"),u=i("1d80"),d=i("4840"),l=i("8aa5"),g=i("50c4"),f=i("577e"),p=i("dc4a"),h=i("4dae"),v=i("14c3"),m=i("9263"),b=i("9f7f"),y=i("d039"),x=b.UNSUPPORTED_Y,_=4294967295,C=Math.min,w=[].push,S=a(/./.exec),P=a(w),D=a("".slice),M=!y((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));s("split",(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=f(u(this)),s=void 0===i?_:i>>>0;if(0===s)return[];if(void 0===t)return[a];if(!o(t))return r(e,a,t,s);var c,d,l,g=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,b=new RegExp(t.source,p+"g");while(c=r(m,b,a)){if(d=b.lastIndex,d>v&&(P(g,D(a,v,c.index)),c.length>1&&c.index<a.length&&n(w,g,h(c,1)),l=c[0].length,v=d,g.length>=s))break;b.lastIndex===c.index&&b.lastIndex++}return v===a.length?!l&&S(b,"")||P(g,""):P(g,D(a,v)),g.length>s?h(g,0,s):g}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:r(e,this,t,i)}:e,[function(e,i){var n=u(this),s=void 0==e?void 0:p(e,t);return s?r(s,e,n,i):r(a,f(n),e,i)},function(t,n){var r=c(this),s=f(t),o=i(a,r,s,n,a!==e);if(o.done)return o.value;var u=d(r,RegExp),p=r.unicode,h=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(x?"g":"y"),m=new u(x?"^(?:"+r.source+")":r,h),b=void 0===n?_:n>>>0;if(0===b)return[];if(0===s.length)return null===v(m,s)?[s]:[];var y=0,w=0,S=[];while(w<s.length){m.lastIndex=x?0:w;var M,O=v(m,x?D(s,w):s);if(null===O||(M=C(g(m.lastIndex+(x?w:0)),s.length))===y)w=l(s,w,p);else{if(P(S,D(s,y,w)),S.length===b)return S;for(var k=1;k<=O.length-1;k++)if(P(S,O[k]),S.length===b)return S;w=y=M}}return P(S,D(s,y)),S}]}),!M,x)},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),a=i("2d00"),s=r("species");t.exports=function(t){return a>=51||!n((function(){var e=[],i=e.constructor={};return i[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"25f0":function(t,e,i){"use strict";var n=i("e330"),r=i("5e77").PROPER,a=i("6eeb"),s=i("825a"),o=i("3a9b"),c=i("577e"),u=i("d039"),d=i("ad6d"),l="toString",g=RegExp.prototype,f=g[l],p=n(d),h=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),v=r&&f.name!=l;(h||v)&&a(RegExp.prototype,l,(function(){var t=s(this),e=c(t.source),i=t.flags,n=c(void 0===i&&o(g,t)&&!("flags"in g)?p(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"3d55":function(t,e,i){"use strict";i("d3b1")},"44e7":function(t,e,i){var n=i("861d"),r=i("c6b6"),a=i("b622"),s=a("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},"4dae":function(t,e,i){var n=i("da84"),r=i("23cb"),a=i("07fa"),s=i("8418"),o=n.Array,c=Math.max;t.exports=function(t,e,i){for(var n=a(t),u=r(e,n),d=r(void 0===i?n:i,n),l=o(c(d-u,0)),g=0;u<d;u++,g++)s(l,g,t[u]);return l.length=g,l}},"625a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.extend?i("div",[i("div",{staticStyle:{width:"90%","margin-left":"5%","margin-top":"50px",display:"flex","justify-content":"space-around"}},[i("div",{staticClass:"left",staticStyle:{width:"500px",height:"500px"}},[i("img",{attrs:{src:t.commodity.imgUrl,alt:""}})]),i("div",{staticClass:"right",staticStyle:{float:"right"}},[i("h3",[t._v("Product name: "+t._s(t.commodity.coname))]),i("p",{staticStyle:{"text-indent":"2em"}},[t._v(" "+t._s(t.commodity.title)+" ")]),i("br"),i("div",[t._v("Description:")]),i("br"),i("div",{staticClass:"productDescription",domProps:{innerHTML:t._s(t.commodity.productDescription)}}),i("div",{staticStyle:{"margin-top":"10px"}},[i("p",{staticStyle:{"font-size":"18px"}},[t._v(" Price: "),i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.commodity.price))]),t._v("$ ")]),i("el-input-number",{attrs:{min:1},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}}),t._v("    "),i("el-button",{attrs:{type:"primary",disabled:t.isDisabled,plain:""},on:{click:t.addOrder}},[t._v("Buy")]),i("el-button",{attrs:{type:"primary",disabled:t.isDisabled,icon:"el-icon-shopping-cart-1"},on:{click:t.addCart}},[t._v("Add to cart")])],1)])]),i("br"),i("el-divider"),i("span",{staticStyle:{"margin-left":"60px","font-size":"20px"}},[t._v("Comment")]),0!=t.messages.length?i("div",[i("div",{staticClass:"message"},[i("div",{staticClass:"liuyan"},[i("ul",t._l(t.messages,(function(e){return i("li",{key:e.cmid},[i("div",{staticClass:"messageItem"},[i("div",{staticClass:"title"},[t._v(" User:"+t._s(e.uname)+" "),i("span",{staticClass:"el-icon-chat-dot-square"})]),i("div",{staticClass:"count"},[i("div",{staticClass:"msgCount"},[i("p",[t._v(t._s(e.cmcontent))])]),i("div",{staticClass:"msgDate"},[i("p",[t._v(t._s(e.cmdate))])])])])])})),0),t.isPage?i("div",{staticClass:"page"},[i("el-pagination",{attrs:{"page-size":t.pagesize,"current-page":t.currPage,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.currPageChange}})],1):t._e()])])]):i("div",{staticStyle:{"text-align":"center","font-size":"20px",width:"100%",height:"200px","line-height":"200px"}},[t._v(" No comment currently ")])],1):i("div",[i("p",[t._v("Product not avilable")])])])},r=[],a=(i("ac1f"),i("1276"),i("99af"),i("d3b7"),i("25f0"),i("4ec3")),s={data:function(){return{commodity:null,extend:!1,num:1,pagesize:5,currPage:1,total:1,isPage:!1,isLogin:!1,isDisabled:!0,user:null,coid:"",messages:[]}},mounted:function(){var t=this,e=document.location.href,i=e.split("?")[1].split("=")[1];this.coid=i,this.getCommodity(i),this.getUser(),this.getMessage(this.currPage,this.pagesize),this.$bus.$on("updateCode",(function(e,i){1==e?t.isDisabled=!0:(t.isDisabled=!1,t.user=i,t.addHistory())}))},methods:{getCommodity:function(t){var e=this;Object(a["a"])("/api/commodity/".concat(t),"get").then((function(t){200==t.code&&(e.commodity=t.obj,console.log(e.commodity),e.addHistory(),e.extend=!0)}))},addHistory:function(){if(null==this.commodity||null==this.user)return console.log(this.commodity,"   ",this.user),void console.log("Something wrong");console.log("Something wrong 1");var t={uid:this.user.uid,coid:this.commodity.coid};console.log(t),Object(a["a"])("/api/addRecord","post",t)},currPageChange:function(t){this.currPage=t,this.getMessage(t,this.pagesize)},getMessage:function(t,e){var i=this;Object(a["a"])("/api/queryMessage/".concat(this.coid,"/").concat(t,"/").concat(e),"get").then((function(t){200==t.code&&(i.messages=i.dateFormart(t.data),t.total>i.pagesize?(i.isPage=!0,i.total=t.total):i.isPage=!1)}))},getUser:function(){var t=JSON.parse(sessionStorage.getItem("user"));null!=t&&(this.user=t,this.isLogin=!0,this.isDisabled=!1)},addCart:function(){var t=this,e={uid:this.user.uid,coid:this.coid,scNumber:this.num};Object(a["a"])("/api/shoppingCart","post",e).then((function(e){201==e.code&&t.$message("Add to cart successfully")}))},dateFormart:function(t){for(var e=0;e<t.length;e++){var i=new Date(t[e].cmdate),n=i.getFullYear(),r=i.getMonth()+1>9?i.getMonth()+1:"0"+(i.getMonth()+1).toString(),a=i.getDate()>9?i.getDate():"0"+i.getDate().toString(),s=i.getHours()>9?i.getHours():"0"+i.getHours().toString(),o=i.getMinutes()>9?i.getMinutes():"0"+i.getMinutes().toString();t[e].cmdate=n+"-"+r+"-"+a+" "+s+":"+o}return t},addOrder:function(){var t=this,e={uid:this.user.uid,coid:this.coid,orderNumber:this.num};Object(a["a"])("/api/order","post",e).then((function(e){201==e.code&&t.$message("Purchaed. Waiting for ship.")}))}}},o=s,c=(i("3d55"),i("2877")),u=Object(c["a"])(o,n,r,!1,null,null,null);e["default"]=u.exports},"65f0":function(t,e,i){var n=i("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},8418:function(t,e,i){"use strict";var n=i("a04b"),r=i("9bf2"),a=i("5c6c");t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,a(0,i)):t[s]=i}},"99af":function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("d039"),s=i("e8b5"),o=i("861d"),c=i("7b0b"),u=i("07fa"),d=i("8418"),l=i("65f0"),g=i("1dde"),f=i("b622"),p=i("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",b=r.TypeError,y=p>=51||!a((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),x=g("concat"),_=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:s(t)},C=!y||!x;n({target:"Array",proto:!0,forced:C},{concat:function(t){var e,i,n,r,a,s=c(this),o=l(s,0),g=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?s:arguments[e],_(a)){if(r=u(a),g+r>v)throw b(m);for(i=0;i<r;i++,g++)i in a&&d(o,g,a[i])}else{if(g>=v)throw b(m);d(o,g++,a)}return o.length=g,o}})},d3b1:function(t,e,i){},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-602e0f04.b9110283.js.map