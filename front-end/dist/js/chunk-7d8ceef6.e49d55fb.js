(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d8ceef6"],{"1ad9":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-container",[n("el-header",{staticStyle:{height:"60px"}},[n("div",{staticStyle:{width:"15%"}},[n("img",{staticStyle:{"margin-top":"18px",float:"left"},attrs:{src:r("cf05"),alt:"Electronics"}})]),n("div",{staticStyle:{width:"50%"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",router:"",mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1",route:"/home"}},[e._v("Front page")]),n("el-menu-item",{attrs:{index:"5",route:"/history"}},[e._v("View history")]),n("el-menu-item",{attrs:{index:"2",route:"/shoppingCart"}},[e._v("Shopping cart")]),n("el-menu-item",{attrs:{index:"3",route:"/userOrder"}},[e._v("Orders")]),n("el-menu-item",{attrs:{index:"4",route:"/help"}},[e._v("Help Doc")])],1)],1),n("div",{staticClass:"login",staticStyle:{width:"15%","margin-top":"-20px"}},[e.$store.state.login.isLogin?e._e():n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.loginShow}},[e._v("Login")]),e.$store.state.login.isLogin?e._e():n("el-button",{attrs:{type:"primary",plain:""},on:{click:e.registerShow}},[e._v("Register")]),e.$store.state.login.isLogin?n("div",{staticStyle:{"margin-top":"60px","margin-left":"15px"}},[n("el-dropdown",[n("div",{staticStyle:{"font-size":"18px"}},[e._v(" User: "+e._s(e.user.uname)+" ")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.logout.apply(null,arguments)}}},[e._v("Logout")]),e.isadmin?n("el-dropdown-item",{nativeOn:{click:function(t){return e.userData.apply(null,arguments)}}},[e._v("Goto admin")]):e._e()],1)],1)],1):e._e()],1)]),n("el-main",[n("router-view"),n("login",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.login.isLoginShow,expression:"this.$store.state.login.isLoginShow"}],ref:"login"}),n("register",{directives:[{name:"show",rawName:"v-show",value:e.isRegisterShow,expression:"isRegisterShow"}],ref:"register"})],1)],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:"Login",visible:e.$store.state.login.isLoginShow,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.$store.state.login,"isLoginShow",t)}}},[r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.user,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"Account",prop:"user"}},[r("el-input",{attrs:{placeholder:"Please enter your account"},model:{value:e.user.user,callback:function(t){e.$set(e.user,"user",t)},expression:"user.user"}})],1),r("el-form-item",{attrs:{label:"password",prop:"pwd"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Please enter your password","show-password":""},model:{value:e.user.pwd,callback:function(t){e.$set(e.user,"pwd",t)},expression:"user.pwd"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("Login")]),r("el-button",{on:{click:e.resetForm}},[e._v("Reset")])],1)],1)],1)])],1)},s=[],a=(r("d9e2"),r("e9c4"),r("4ec3")),u={data:function(){var e=this,t=function(t,r,n){if(""==r)return n(new Error("Account cannot be empty"));e.userName=!0,n()},r=function(t,r,n){if(""==r)return n(new Error("password can not be blank"));e.pwd=!0,n()};return{islogin:!1,userName:!1,pwd:!1,user:{user:"",pwd:""},rules:{user:[{validator:t,trigger:"blur"}],pwd:[{validator:r,trigger:"blur"}]}}},methods:{handleClose:function(e){this.$confirm("Confirm to close?").then((function(){e()})).catch((function(){}))},login:function(){var e=this;this.userName&&this.pwd?Object(a["a"])("/api/login","post",this.user).then((function(t){if(200==t.code){if(e.userName=!1,e.pwd=!1,1==t.obj.utype){var r=JSON.stringify(t.obj);sessionStorage.setItem("admin",r)}e.$message("Logged in"),e.$refs.ruleForm.resetFields();r=JSON.stringify(t.obj);sessionStorage.setItem("user",r),e.$emit("loginData",t.obj),sessionStorage.setItem("token",t.token),e.$bus.$emit("updateCode",2,t.obj),e.$bus.$emit("cartLoginUpdate",t.obj),e.$bus.$emit("historyLoginUpdate",t.obj),e.$bus.$emit("orderLoginUpdate",t.obj),e.islogin=!1}else e.$message.error(t.message)})):this.$message({message:"Please fill in the login info",type:"warning"})},resetForm:function(){this.$refs.ruleForm.resetFields()}}},l=u,c=r("2877"),d=Object(c["a"])(l,i,s,!1,null,null,null),p=d.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:"Register",visible:e.isShow,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.isShow=t}}},[r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"Username",prop:"uname"}},[r("el-input",{attrs:{placeholder:"Please enter user name"},model:{value:e.ruleForm.uname,callback:function(t){e.$set(e.ruleForm,"uname",e._n(t))},expression:"ruleForm.uname"}})],1),r("el-form-item",{attrs:{label:"Account",prop:"user"}},[r("el-input",{attrs:{placeholder:"Please enter your account"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",e._n(t))},expression:"ruleForm.user"}})],1),r("el-form-item",{attrs:{label:"password",prop:"pwd"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"at least 6 characters of the password","show-password":""},model:{value:e.ruleForm.pwd,callback:function(t){e.$set(e.ruleForm,"pwd",t)},expression:"ruleForm.pwd"}})],1),r("el-form-item",{attrs:{label:"Confirm",prop:"checkpwd"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Please confirm your password","show-password":""},model:{value:e.ruleForm.checkpwd,callback:function(t){e.$set(e.ruleForm,"checkpwd",t)},expression:"ruleForm.checkpwd"}})],1),r("el-form-item",[r("el-button",{staticStyle:{"margin-left":"200px"},attrs:{type:"primary"},on:{click:e.register}},[e._v("Register")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("Reset")])],1)],1)],1)])],1)},m=[],h={data:function(){var e=this,t=function(e,t,r){if(""==t)return r(new Error("Username can not be empty"));r()},r=function(e,t,r){if(""==t)return r(new Error("Username can not be empty"));r()},n=function(e,t,r){if(""==t)return r(new Error("password can not be blank"));t.length<6?r(new Error("Password must be at least 6 characters")):r()},o=function(t,r,n){if(""==r)return n(new Error("password can not be empty"));r!==e.ruleForm.pwd?n(new Error("Different passwords entered")):n()};return{isregister:!1,isShow:!1,isDisabled:!1,ruleForm:{uname:"",user:"",pwd:""},rules:{uname:[{validator:t,trigger:"blur"}],user:[{validator:r,trigger:"blur"}],pwd:[{validator:n,trigger:"blur"}],checkpwd:[{validator:o,trigger:"blur"}]}}},methods:{handleClose:function(e){var t=this;this.$confirm("Confirm to close?").then((function(){t.isShow=!1,e()})).catch((function(){}))},register:function(){var e=this;Object(a["a"])("/api/user","post",this.ruleForm).then((function(t){201==t.code?(e.$message({message:t.message,type:"success"}),e.$refs.ruleForm.resetFields(),e.isShow=!1):e.$message.error(t.message)}))},isEmail:function(){var e=this;""!=this.ruleForm.email&&Object(a["a"])("/api/isEmail/".concat(this.ruleForm.email),"get").then((function(t){200==t.code?e.isregister=!0:e.$message.error(t.message)}))},resetForm:function(e){this.$refs[e].resetFields()},init:function(){this.isShow=!0},btnTime:function(){var e=this,t=document.getElementById("sendBtn");this.isDisabled=!0;var r=60,n=setInterval((function(){0==r?(t.innerHTML="get verification code",e.isDisabled=!1,clearInterval(n)):t.innerHTML="".concat(r--,"s reacquire")}),1e3)}}},g=h,w=Object(c["a"])(g,f,m,!1,null,null,null),v=w.exports,b={components:{login:p,register:v},data:function(){return{uploadisShow:!1,userDataIsShow:!1,isRegisterShow:!1,isadmin:!1,user:null}},mounted:function(){var e=this;this.$refs.login.$on("loginData",(function(t){e.user=t,1==t.utype?e.isadmin=!0:e.isadmin=!1,e.updateLogin(!0,!1)})),this.sessionGetUser()},methods:{registerShow:function(){this.isRegisterShow=!0,this.$refs.register.init()},loginShow:function(){this.updateLogin(!1,!0)},logout:function(){sessionStorage.removeItem("user"),sessionStorage.removeItem("admin"),sessionStorage.removeItem("token"),this.updateLogin(!1,!1),this.$bus.$emit("updateCode",1),this.$bus.$emit("cartLogutUpdate"),this.$bus.$emit("orderLogutUpdate"),this.$bus.$emit("historytLogutUpdate"),this.user=null},upload:function(){this.uploadisShow=!0},userData:function(){window.open("http://205.185.124.239/#/backstage")},updateLogin:function(e,t){var r=this.$store.state.login;r.isLogin=e,r.isLoginShow=t,this.$store.commit("updateLogin",r)},sessionGetUser:function(){var e=JSON.parse(sessionStorage.getItem("user"));null!=e&&(this.user=e,1==e.utype&&(this.isadmin=!0),this.updateLogin(!0,!1))}}},y=b,S=(r("6ce3"),Object(c["a"])(y,n,o,!1,null,"3827d2d2",null));t["default"]=S.exports},"6ce3":function(e,t,r){"use strict";r("ad06")},7156:function(e,t,r){var n=r("1626"),o=r("861d"),i=r("d2bb");e.exports=function(e,t,r){var s,a;return i&&n(s=t.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(e,a),e}},ab36:function(e,t,r){var n=r("861d"),o=r("9112");e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},ad06:function(e,t,r){},b980:function(e,t,r){var n=r("d039"),o=r("5c6c");e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},c770:function(e,t,r){var n=r("e330"),o=n("".replace),i=function(e){return String(Error(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,a=s.test(i);e.exports=function(e,t){if(a&&"string"==typeof e)while(t--)e=o(e,s,"");return e}},cf05:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAGdYAABnWARjRyu0AAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMjowMzoyNyAwODo1NTo0NqQbkIQAAAMfSURBVGhD7ZnfS5NRGMefpnM/371zM39EltXmtH/A1LpK7V+o1AqCVKR/wKAfk4Kipl3PG6NJeq/uykC6E+ZNoBvzH1DYRhfOUHk65+xJsM3p9D1nCfvA2PYdgw9j7/c857wXkAHnDBM9nysq0qqoSKtCinQkEoEv09P0TgK88oxG1zReoxgOhykxFsOlB/sH0OvS8WagjRLjMVQ6FouhtdqMliozxuNxSo3HUOnrV1vQo7lwZGiYEjkYJj3+JohuhxMbPHWUyMMQ6VQ6hTb2t7DVWHBhfp5SeRgi3X2rE726G3t7eimRy5ml52Zn0VFjRTv7lbPZLKVyObO026mhy+7AyYlJSuRzJunB/n70ajoG/H5K1HBq6dXYKuvjavGIr8vr5EKcWvpa8xX0sJVPdicX4lTSuU7W8GKthxK1lCydTuU6mbfF4sIipWopWbq7swvrXG7su9tDiXpKkp6bnUOnxSpWvuzODqXqKUm6lg1DOuvk0KcQJeXhxNIDrJN5W7T51HZyIU4kzedkfvFZTNWYSCQoNZ6p8BS9Ks6JpG+wOdnN5+RheZ3c3HRJbNGii8c30rHSQZqT6yR38ouxMTHH1Hu9lBxNUekU62S7uUZ0soo5ueVyM9v5sFV2ZISSwhSVvs06mc/JfT1qOnllZUXMMlb2SCaTlOZzpDSfk51iTrbi9vY2pfJ5eP8B2827sb01QEk+R0rzTuZzciikvpP/zuifJyYoOUxB6Ud0dtEu8eyiGDORGbby2sSOKLuTvxvKk17lZxdVZnF+sb62Rql6Ojs6xPV0r8C+M09anF2wX3n42RAl5WFrawstfJpk7RWNRinNcUh6PBhEnXVyuebkf3n98pWY2xu8h89SDqR5J/OlWrc78fvSEqXlp83fKkrh+egoJYgHN4rudHXDRjIJjY1N8PXbDGxubrJFlX9SPmx2G/xYXoaP7z9AOpOBn+tr4PP5QEizqxWePn4C9Q31sLe/D7/SGfpa+bHYrOBwOOD37i64NA0SG8mcdMDfCi6nBibT/31jIJVOwfi7tzlpys4NlXsuqqhIqwHgD8IhISYGe4G+AAAAAElFTkSuQmCC"},d9e2:function(e,t,r){var n=r("23e7"),o=r("da84"),i=r("2ba4"),s=r("e5cb"),a="WebAssembly",u=o[a],l=7!==Error("e",{cause:7}).cause,c=function(e,t){var r={};r[e]=s(e,t,l),n({global:!0,forced:l},r)},d=function(e,t){if(u&&u[e]){var r={};r[e]=s(a+"."+e,t,l),n({target:a,stat:!0,forced:l},r)}};c("Error",(function(e){return function(t){return i(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),c("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},e391:function(e,t,r){var n=r("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},e5cb:function(e,t,r){"use strict";var n=r("d066"),o=r("1a2d"),i=r("9112"),s=r("3a9b"),a=r("d2bb"),u=r("e893"),l=r("7156"),c=r("e391"),d=r("ab36"),p=r("c770"),f=r("b980"),m=r("c430");e.exports=function(e,t,r,h){var g=h?2:1,w=e.split("."),v=w[w.length-1],b=n.apply(null,w);if(b){var y=b.prototype;if(!m&&o(y,"cause")&&delete y.cause,!r)return b;var S=n("Error"),A=t((function(e,t){var r=c(h?t:e,void 0),n=h?new b(e):new b;return void 0!==r&&i(n,"message",r),f&&i(n,"stack",p(n.stack,2)),this&&s(y,this)&&l(n,this,A),arguments.length>g&&d(n,arguments[g]),n}));if(A.prototype=y,"Error"!==v&&(a?a(A,S):u(A,S,{name:!0})),u(A,b),!m)try{y.name!==v&&i(y,"name",v),y.constructor=A}catch(x){}return A}}},e9c4:function(e,t,r){var n=r("23e7"),o=r("da84"),i=r("d066"),s=r("2ba4"),a=r("e330"),u=r("d039"),l=o.Array,c=i("JSON","stringify"),d=a(/./.exec),p=a("".charAt),f=a("".charCodeAt),m=a("".replace),h=a(1..toString),g=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,b=function(e,t,r){var n=p(r,t-1),o=p(r,t+1);return d(w,e)&&!d(v,o)||d(v,e)&&!d(w,n)?"\\u"+h(f(e,0),16):e},y=u((function(){return'"\\udf06\\ud834"'!==c("\udf06\ud834")||'"\\udead"'!==c("\udead")}));c&&n({target:"JSON",stat:!0,forced:y},{stringify:function(e,t,r){for(var n=0,o=arguments.length,i=l(o);n<o;n++)i[n]=arguments[n];var a=s(c,null,i);return"string"==typeof a?m(a,g,b):a}})}}]);
//# sourceMappingURL=chunk-7d8ceef6.e49d55fb.js.map